(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66b48c78"],{"159b":function(t,e,a){var i=a("da84"),s=a("fdbc"),r=a("17c2"),n=a("9112");for(var o in s){var c=i[o],d=c&&c.prototype;if(d&&d.forEach!==r)try{n(d,"forEach",r)}catch(l){d.forEach=r}}},"17c2":function(t,e,a){"use strict";var i=a("b727").forEach,s=a("a640"),r=a("ae40"),n=s("forEach"),o=r("forEach");t.exports=n&&o?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"181d":function(t,e,a){},"2ed5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout-default",[a("div",{staticClass:"history"},[a("div",[a("form",{staticClass:"md-layout",attrs:{novalidate:"",id:"app",action:"#",method:"post"}},[a("md-card",{staticClass:"md-layout-item md-small-size-100"},[a("md-card-header",[a("div",{staticClass:"md-title"},[t._v("Package History")])]),a("md-card-content",[a("label",{attrs:{for:"pId"}},[t._v("Package ID")]),a("md-field",[a("md-input",{attrs:{name:"pId",id:"pId"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.refresh(e))}},model:{value:t.pId,callback:function(e){t.pId=e},expression:"pId"}})],1),a("md-card-actions",[a("md-button",{staticClass:"md-primary md-raised",attrs:{type:"button"},on:{click:t.refresh}},[t._v("check")])],1),t.showHistory&&!t.packageExists?a("div",{staticStyle:{"text-align":"center",color:"red","padding-top":"10px"}},[a("small",[a("b",[t._v("Sorry, we cannot detect a package with the given package ID.")])])]):t._e()],1)],1)],1),t.showHistory&&t.packageExists?a("div",{staticClass:"history-container"},[a("md-card",{staticClass:"md-layout-item md-small-size-100"},[a("md-card-header",{staticClass:"history-card-header"},[a("div",{staticClass:"md-title"},[t.packageDelivered?a("span",{staticClass:"md-title-icon success"},[a("i",{staticClass:"material-icons"},[t._v("check")])]):a("span",{staticClass:"md-title-icon"},[a("i",{staticClass:"material-icons"},[t._v("local_shipping")])]),a("div",{staticClass:"md-title-label"},[t._v("PID "+t._s(t.keyId))])]),a("div",{staticClass:"history-progress"},[a("div",{staticClass:"history-progress-bar",class:{success:t.packageDelivered}},[a("div",{staticClass:"history-progress-bar-element"}),a("div",{staticClass:"history-progress-bar-element"})])]),t.packageDelivered?a("div",{staticClass:"history-status success"},[t._v(" Package delivered ")]):a("div",{staticClass:"history-status"},[t._v("Package in transit")]),a("div",{staticClass:"history-current-owner"},[t._v(" Current owner: "+t._s(t.lastDestination.owner)+" ")])]),a("md-card-content",[a("div",{staticClass:"timeline"},t._l(t.history,(function(e){return a("div",{key:e.txId,staticClass:"timeline-event"},[a("div",{staticClass:"timeline-content"},[a("div",{staticClass:"md-layout"},[a("div",{staticClass:"md-layout-item md-xsmall-size-100"},[a("div",{staticClass:"timeline-content-date"},[t._v(t._s(e.date))]),a("div",{staticClass:"timeline-content-time-destination",class:{success:e.delivered}},[t._v(" "+t._s(e.time)+" ")]),a("div",{staticClass:"timeline-content-time-destination",class:{success:e.delivered}},[t._v(" "+t._s(e.owner)+" ")]),a("div",{staticClass:"timeline-content-desc"},["freight_forwarder_warehouse"===e.owner?a("span",[t._v(" Shipments are pick from freights forwarders and apply printed cargo labels ")]):t._e(),"truck"===e.owner?a("span",[t._v(" Shipments are handed over to ground handling agents ")]):t._e(),"export_docks"===e.owner?a("span",[t._v(" Shipments are handed over to ground handling agents ")]):t._e(),"storage_location"===e.owner?a("span",[t._v(" Items are collected at HQ ")]):t._e(),"loaded_in_trolley"===e.owner?a("span",[t._v(" Shipments are lodge-in to SATS export dock for freights acceptance ")]):t._e(),"aircraft_bay"===e.owner?a("span",[t._v(" Shipments are verified for weight, security ")]):t._e(),"loaded_into_aircraft"===e.owner?a("span",[t._v(" Shipments are loaded into aircraft container ")]):t._e(),"aircraft_takeoff"===e.owner?a("span",[t._v(" Depart for destination ")]):t._e()])]),a("div",{staticClass:"md-layout-item md-xsmall-size-100"},[a("div",{staticClass:"timeline-img-container"},["freight_forwarder_warehouse"===e.owner?a("div",{staticClass:"image-icon freight_forwarder_warehouse",attrs:{title:"freight_forwarder_warehouse"}}):t._e(),"truck"===e.owner?a("div",{staticClass:"image-icon truck",attrs:{title:"truck"}}):t._e(),"export_docks"===e.owner?a("div",{staticClass:"image-icon export_docks",attrs:{title:"export_docks"}}):t._e(),"storage_location"===e.owner?a("div",{staticClass:"image-icon storage_location",attrs:{title:"storage_location"}}):t._e(),"loaded_in_trolley"===e.owner?a("div",{staticClass:"image-icon loaded_in_trolley",attrs:{title:"loaded_in_trolley"}}):t._e(),"aircraft_bay"===e.owner?a("div",{staticClass:"image-icon aircraft_bay",attrs:{title:"aircraft_bay"}}):t._e(),"loaded_into_aircraft"===e.owner?a("div",{staticClass:"image-icon loaded_into_aircraft",attrs:{title:"loaded_into_aircraft"}}):t._e(),"aircraft_takeoff"===e.owner?a("div",{staticClass:"image-icon aircraft_takeoff",attrs:{title:"aircraft_takeoff"}}):t._e()])])])]),e.delivered?a("div",{staticClass:"timeline-badge success"},[a("i",{staticClass:"material-icons"},[t._v("check")])]):a("div",{staticClass:"timeline-badge"},[a("i",{staticClass:"material-icons"},[t._v("arrow_upward")])])])})),0)])],1)],1):t._e()])]),a("QrCodeScanner",{attrs:{openDialog:t.showQrScanner},on:{qrCodeScanned:t.onQrDecode}})],1)},s=[],r=(a("4160"),a("c975"),a("d3b7"),a("ac1f"),a("1276"),a("159b"),a("96cf"),a("1da1")),n=a("7c64"),o=a("51be"),c={name:"History",components:{LayoutDefault:n["a"]},data:function(){return{history:[],keyId:"",pId:"",packageExists:!1,packageDelivered:!1,firstDestination:null,lastDestination:null,showHistory:!1,showQrScanner:!1}},mounted:function(){this.$route.path&&this.$route.path.indexOf("showHistory")>=0&&this.$route.query.pid&&""!==this.$route.query.pid&&(this.pId=this.$route.query.pid,this.refresh())},methods:{onQrDecode:function(t){this.pId=t&&""!==t?t:"",this.refresh()},refresh:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a,i,s,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.history=[],this.showHistory=!1,this.packageExists=!1,this.packageDelivered=!1,this.firstDestination=null,this.lastDestination=null,!this.pId||""===this.pId){t.next=18;break}return t.next=9,fetch(o["API_LOCATION"]+"getHistory/"+this.pId);case 9:return e=t.sent,t.next=12,e.json();case 12:a=t.sent,this.keyId=a.key,i=JSON.parse(a.value),s=[],i.length>0&&(this.packageExists=!0,i.forEach((function(t){var e={},a="date not obtained",i="time not obtained";if(e.txId=t.TxId,e.owner=t.Packet.owner,e.ts=t.Packet.scanned,t.Packet.scanned&&""!==t.Packet.scanned){var n=t.Packet.scanned.split(" ");n[0]&&""!==n[0]&&(a=n[0]),n[1]&&""!==n[1]&&(i=n[1])}e.date=a,e.time=i,"aircraft_takeoff"===e.owner&&(e.delivered=!0,r.packageDelivered=!0),s.push(e)})),s.length>0&&(this.firstDestination=s[s.length-1],this.lastDestination=s[0])),this.history=s;case 18:this.showHistory=!0;case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},d=c,l=(a("7268"),a("2877")),u=Object(l["a"])(d,i,s,!1,null,"9ddc50de",null);e["default"]=u.exports},4160:function(t,e,a){"use strict";var i=a("23e7"),s=a("17c2");i({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"51be":function(t,e,a){"use strict";t.exports={API_LOCATION:"https://nb-tracking.samlinux.com/api2/"}},"5cd0":function(t,e,a){},"65f0":function(t,e,a){var i=a("861d"),s=a("e8b5"),r=a("b622"),n=r("species");t.exports=function(t,e){var a;return s(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!s(a.prototype)?i(a)&&(a=a[n],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},7268:function(t,e,a){"use strict";var i=a("5cd0"),s=a.n(i);s.a},7661:function(t,e,a){"use strict";var i=a("181d"),s=a.n(i);s.a},"7c64":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"LayoutDefault"},[a("main",{staticClass:"LayoutDefault__main"},[t._t("default")],2)])},s=[],r={name:"LayoutDefault",data:function(){return{}},created:function(){}},n=r,o=(a("7661"),a("2877")),c=Object(o["a"])(n,i,s,!1,null,null,null);e["a"]=c.exports},b727:function(t,e,a){var i=a("0366"),s=a("44ad"),r=a("7b0b"),n=a("50c4"),o=a("65f0"),c=[].push,d=function(t){var e=1==t,a=2==t,d=3==t,l=4==t,u=6==t,f=5==t||u;return function(h,p,v,m){for(var _,y,g=r(h),k=s(g),C=i(p,v,3),w=n(k.length),b=0,x=m||o,S=e?x(h,w):a?x(h,0):void 0;w>b;b++)if((f||b in k)&&(_=k[b],y=C(_,b,g),t))if(e)S[b]=y;else if(y)switch(t){case 3:return!0;case 5:return _;case 6:return b;case 2:c.call(S,_)}else if(l)return!1;return u?-1:d||l?l:S}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},e8b5:function(t,e,a){var i=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-66b48c78.887c3cf6.js.map